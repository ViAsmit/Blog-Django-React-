(this.webpackJsonpblogapi=this.webpackJsonpblogapi||[]).push([[0],{105:function(e,t,a){},143:function(e,t,a){e.exports=a(199)},148:function(e,t,a){},199:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(148);var c=a(19),i=a(12),s=a(15),m=(a(105),a(228)),u=a(232),p=a(235),d=a(234),g=a(231),f=a(128),h=a(230),E=a(233),b=Object(m.a)((function(e){return{cardMedia:{paddingTop:"56.25%"},link:{margin:e.spacing(1,1.5)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},postTitle:{fontSize:"16px",textAlign:"left"},postText:{display:"flex",justifyContent:"left",alignItems:"baseline",fontSize:"12px",textAlign:"left",marginBottom:e.spacing(2)}}})),v=function(e){var t=e.posts,a=b();return t&&0!==t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{maxWidth:"md",component:"main"},r.a.createElement(g.a,{container:!0,spacing:5,alignItems:"flex-end"},t.map((function(e){return r.a.createElement(g.a,{item:!0,key:e.id,xs:12,md:4},r.a.createElement(u.a,{className:a.card},r.a.createElement(E.a,{color:"textPrimary",href:"post/"+e.slug,className:a.link},r.a.createElement(d.a,{className:a.cardMedia,image:"https://source.unsplash.com/random",title:"Image title"})),r.a.createElement(p.a,{className:a.cardContent},r.a.createElement(f.a,{gutterBottom:!0,variant:"h6",component:"h2",className:a.postTitle},e.title.substr(0,50),"..."),r.a.createElement("div",{className:a.postText},r.a.createElement(f.a,{color:"textSecondary"},e.excerpt.substr(0,40),"...")))))}))))):r.a.createElement("p",null,"Can not find any posts, sorry")},x=a(127);var y=function(e){return function(t){var a=t.isLoading,n=Object(x.a)(t,["isLoading"]);return a?r.a.createElement("p",{style:{fontSize:"25px"}},"We are waiting for the data to load!..."):r.a.createElement(e,n)}},j=a(92),O=a.n(j),k=a(122),w=a(123),C="https://blog-app-django-react.herokuapp.com/api/",N=a.n(w).a.create({baseURL:C,timeout:5e3,headers:{Authorization:localStorage.getItem("access_token")?"JWT "+localStorage.getItem("access_token"):null,"Content-Type":"application/json",accept:"application/json"}});N.interceptors.response.use((function(e){return e}),function(){var e=Object(k.a)(O.a.mark((function e(t){var a,n,r,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,"undefined"!==typeof t.response){e.next=4;break}return alert("A server/network error occurred. Looks like CORS might be the problem. Sorry about this - we will get it fixed shortly."),e.abrupt("return",Promise.reject(t));case 4:if(401!==t.response.status||a.url!==C+"token/refresh/"){e.next=7;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 7:if("token_not_valid"!==t.response.data.code||401!==t.response.status||"Unauthorized"!==t.response.statusText){e.next=23;break}if(!(n=localStorage.getItem("refresh_token"))){e.next=21;break}if(r=JSON.parse(atob(n.split(".")[1])),o=Math.ceil(Date.now()/1e3),console.log(r.exp),!(r.exp>o)){e.next=17;break}return e.abrupt("return",N.post("/token/refresh/",{refresh:n}).then((function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),N.defaults.headers.Authorization="JWT "+e.data.access,a.headers.Authorization="JWT "+e.data.access,N(a)})).catch((function(e){console.log(e)})));case 17:console.log("Refresh token is expired",r.exp,o),window.location.href="/login/";case 19:e.next=23;break;case 21:console.log("Refresh token not available."),window.location.href="/login/";case 23:return e.abrupt("return",Promise.reject(t));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var S=N;var T=function(){var e=y(v),t=Object(n.useState)({loading:!0,posts:null}),a=Object(s.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){S.get().then((function(e){var t=e.data;l({loading:!1,posts:t}),console.log(e.data)}))}),[l]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Latest Posts"),r.a.createElement(e,{isLoading:o.loading,posts:o.posts}))},W=a(238),I=a(239),P=a(237),A=a(240),z=a(124),_=a.n(z),B=Object(m.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},link:{margin:e.spacing(1,1.5)},toolbarTitle:{flexGrow:1}}}));var q=function(){var e=B(),t=Object(i.f)(),a=Object(n.useState)({search:""}),o=Object(s.a)(a,2),l=o[0],m=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null),r.a.createElement(W.a,{position:"static",color:"default",elevation:0,className:e.appBar},r.a.createElement(I.a,{className:e.toolbar},r.a.createElement(f.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle},r.a.createElement(E.a,{component:c.b,to:"/",underline:"none",color:"textPrimary"},"Blog")),r.a.createElement(_.a,{value:l.search,onChange:function(e){return m({search:e})},onRequestSearch:function(){return l.search,t.push({pathname:"/search/",search:"?search="+l.search}),void window.location.reload()}}),r.a.createElement("nav",null,r.a.createElement(E.a,{color:"textPrimary",href:"#",className:e.link,component:c.b,to:"/register"},"Register")),r.a.createElement(A.a,{href:"#",color:"primary",variant:"outlined",className:e.link,component:c.b,to:"/login"},"Login"),r.a.createElement(A.a,{href:"#",color:"primary",variant:"outlined",className:e.link,component:c.b,to:"/logout"},"Logout"))))},D=a(21),L=a(250),R=Object(m.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},footer:Object(D.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));function F(){return r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(E.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var J=[{title:"Company",description:["Team","History","Contact us","Locations"]},{title:"Features",description:["Cool stuff","Random feature","Team feature","Developer stuff","Another one"]},{title:"Resources",description:["Resource","Resource name","Another resource","Final resource"]},{title:"Legal",description:["Privacy policy","Terms of use"]}];var M=function(){var e=R();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{maxWidth:"md",component:"footer",className:e.footer},r.a.createElement(g.a,{container:!0,spacing:4,justify:"space-evenly"},J.map((function(e){return r.a.createElement(g.a,{item:!0,xs:6,sm:3,key:e.title},r.a.createElement(f.a,{variant:"h6",color:"textPrimary",gutterBottom:!0},e.title),r.a.createElement("ul",null,e.description.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(E.a,{href:"#",variant:"subtitle1",color:"textSecondary"},e))}))))}))),r.a.createElement(L.a,{mt:5},r.a.createElement(F,null))))},U=a(18),H=a(251),V=a(248),Y=a(241),$=a(249),G=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var K=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Q=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}}));console.log("===========");var X=Object(m.a)((function(e){return{cardMedia:{paddingTop:"56.25%"},link:{margin:e.spacing(1,1.5)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},postTitle:{fontSize:"16px",textAlign:"left"},postText:{display:"flex",justifyContent:"left",alignItems:"baseline",fontSize:"12px",textAlign:"left",marginBottom:e.spacing(2)}}})),Z=function(){var e=X(),t=Object(n.useState)({search:"",posts:[]}),a=Object(s.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){S.get("search/"+window.location.search).then((function(e){var t=e.data;l({posts:t}),console.log(e.data)}))}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{maxWidth:"md",component:"main"},r.a.createElement(g.a,{container:!0,spacing:5,alignItems:"flex-end"},o.posts.map((function(t){return r.a.createElement(g.a,{item:!0,key:t.id,xs:12,md:4},r.a.createElement(u.a,{className:e.card},r.a.createElement(E.a,{color:"textPrimary",href:"/post/"+t.slug,className:e.link},r.a.createElement(d.a,{className:e.cardMedia,image:"https://source.unsplash.com/random",title:"Image title"})),r.a.createElement(p.a,{className:e.cardContent},r.a.createElement(f.a,{gutterBottom:!0,variant:"h6",component:"h2",className:e.postTitle},t.title.substr(0,50),"..."),r.a.createElement("div",{className:e.postText},r.a.createElement(f.a,{color:"textSecondary"},t.excerpt.substr(0,40),"...")))))})))))},ee=a(79),te=a(243),ae=a(247),ne=a(246),re=a(242),oe=a(244),le=a(245),ce=a(126),ie=a.n(ce),se=a(125),me=a.n(se),ue=Object(m.a)((function(e){return{cardMedia:{paddingTop:"56.25%"},link:{margin:e.spacing(1,1.5)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},postTitle:{fontSize:"16px",textAlign:"left"},postText:{display:"flex",justifyContent:"left",alignItems:"baseline",fontSize:"12px",textAlign:"left",marginBottom:e.spacing(2)}}})),pe=function(e){var t=e.posts,a=ue();return t&&0!==t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{maxWidth:"md",component:"main"},r.a.createElement(ee.a,{className:a.root},r.a.createElement(re.a,{className:a.container},r.a.createElement(te.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(oe.a,null,r.a.createElement(le.a,null,r.a.createElement(ne.a,null,"Id"),r.a.createElement(ne.a,{align:"left"},"Category"),r.a.createElement(ne.a,{align:"left"},"Title"),r.a.createElement(ne.a,{align:"left"},"Action"))),r.a.createElement(ae.a,null,t.map((function(e){return r.a.createElement(le.a,{key:e.id},r.a.createElement(ne.a,{component:"th",scope:"row"},e.id),r.a.createElement(ne.a,{align:"left"},e.category),r.a.createElement(ne.a,{align:"left"},r.a.createElement(E.a,{color:"textPrimary",href:"/post/"+e.slug,className:a.link},e.title)),r.a.createElement(ne.a,{align:"left"},r.a.createElement(E.a,{color:"textPrimary",href:"/admin/edit/"+e.id,className:a.link},r.a.createElement(me.a,null)),r.a.createElement(E.a,{color:"textPrimary",href:"/admin/delete/"+e.id,className:a.link},r.a.createElement(ie.a,null))))})),r.a.createElement(le.a,null,r.a.createElement(ne.a,{colSpan:4,align:"right"},r.a.createElement(A.a,{href:"/admin/create",variant:"contained",color:"primary"},"New Post"))))))))):r.a.createElement("p",null,"Can not find any posts, sorry")};var de=function(){var e=y(pe),t=Object(n.useState)({loading:!0,posts:null}),a=Object(s.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){S.get().then((function(e){var t=e.data;l({loading:!1,posts:t}),console.log(e.data)}))}),[l]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Latest Posts"),r.a.createElement(e,{isLoading:o.loading,posts:o.posts}))},ge=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var fe=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var he=r.a.createElement(c.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:T}),r.a.createElement(i.a,{exact:!0,path:"/admin",component:de}),r.a.createElement(i.a,{exact:!0,path:"/admin/create",component:function(){var e=Object(i.f)(),t=Object.freeze({title:"",slug:"",excerpt:"",content:""}),a=Object(n.useState)(t),o=Object(s.a)(a,2),l=o[0],c=o[1],m=function(e){var t;"title"==[e.target.name]?c(Object(U.a)(Object(U.a)({},l),{},(t={},Object(D.a)(t,e.target.name,e.target.value.trim()),Object(D.a)(t,"slug",function(e){var t="\xe0\xe1\xe2\xe4\xe6\xe3\xe5\u0101\u0103\u0105\xe7\u0107\u010d\u0111\u010f\xe8\xe9\xea\xeb\u0113\u0117\u0119\u011b\u011f\u01f5\u1e27\xee\xef\xed\u012b\u012f\xec\u0142\u1e3f\xf1\u0144\u01f9\u0148\xf4\xf6\xf2\xf3\u0153\xf8\u014d\xf5\u0151\u1e55\u0155\u0159\xdf\u015b\u0161\u015f\u0219\u0165\u021b\xfb\xfc\xf9\xfa\u016b\u01d8\u016f\u0171\u0173\u1e83\u1e8d\xff\xfd\u017e\u017a\u017c\xb7/_,:;",a=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(a,(function(e){return"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}(e.target.value.trim())),t))):c(Object(U.a)(Object(U.a)({},l),{},Object(D.a)({},e.target.name,e.target.value.trim())))},u=ge();return r.a.createElement(h.a,{component:"main",maxWidth:"xs"},r.a.createElement(P.a,null),r.a.createElement("div",{className:u.paper},r.a.createElement(H.a,{className:u.avatar}),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Create New Post"),r.a.createElement("form",{className:u.form,noValidate:!0},r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"title",label:"Post Title",name:"title",autoComplete:"title",onChange:m})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"excerpt",label:"Post Excerpt",name:"excerpt",autoComplete:"excerpt",onChange:m,multiline:!0,rows:4})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"slug",label:"slug",name:"slug",autoComplete:"slug",value:l.slug,onChange:m})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"content",label:"content",name:"content",autoComplete:"content",onChange:m,multiline:!0,rows:4}))),r.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:u.submit,onClick:function(t){t.preventDefault(),S.post("admin/create/",{title:l.title,slug:l.slug,author:1,excerpt:l.excerpt,content:l.content}).then((function(t){e.push("/admin/")}))}},"Create Post"))))}}),r.a.createElement(i.a,{exact:!0,path:"/admin/edit/:id",component:function(){var e=Object(i.f)(),t=Object(i.g)().id,a=Object.freeze({id:"",title:"",slug:"",excerpt:"",content:""}),o=Object(n.useState)(a),l=Object(s.a)(o,2),c=l[0],m=l[1];Object(n.useEffect)((function(){S.get("admin/edit/postdetail/"+t).then((function(e){m(Object(U.a)(Object(U.a)({},c),{},{title:e.data.title,excerpt:e.data.excerpt,slug:e.data.slug,content:e.data.content})),console.log(e.data)}))}),[m]);var u=function(e){m(Object(U.a)(Object(U.a)({},c),{},Object(D.a)({},e.target.name,e.target.value.trim())))},p=fe();return r.a.createElement(h.a,{component:"main",maxWidth:"sm"},r.a.createElement(P.a,null),r.a.createElement("div",{className:p.paper},r.a.createElement(f.a,{component:"h1",variant:"h5"},"Edit Post"),r.a.createElement("form",{className:p.form,noValidate:!0},r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"title",label:"Post Title",name:"title",autoComplete:"title",value:c.title,onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"excerpt",label:"Post Excerpt",name:"excerpt",autoComplete:"excerpt",value:c.excerpt,onChange:u,multiline:!0,rows:8})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"slug",label:"slug",name:"slug",autoComplete:"slug",value:c.slug,onChange:u})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"content",label:"content",name:"content",autoComplete:"content",value:c.content,onChange:u,multiline:!0,rows:8}))),r.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit,onClick:function(a){a.preventDefault(),console.log(c),S.put("admin/edit/"+t+"/",{title:c.title,slug:c.slug,author:1,excerpt:c.excerpt,content:c.content}),e.push({pathname:"/admin/"}),window.location.reload()}},"Update Post"))))}}),r.a.createElement(i.a,{exact:!0,path:"/admin/delete/:id",component:function(){var e=Object(i.f)(),t=Object(i.g)().id;return r.a.createElement(h.a,{component:"main",maxWidth:"sm"},r.a.createElement(L.a,{display:"flex",justifyContent:"center",m:1,p:1,bgcolor:"background.paper"},r.a.createElement(A.a,{variant:"contained",color:"secondary",type:"submit",onClick:function(a){a.preventDefault(),S.delete("admin/delete/"+t).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))})).then((function(){e.push({pathname:"/admin/"}),window.location.reload()}))}},"Press here to confirm delete")))}}),r.a.createElement(i.a,{path:"/register",component:function(){var e=Object(i.f)(),t=Object.freeze({email:"",username:"",password:""}),a=Object(n.useState)(t),o=Object(s.a)(a,2),l=o[0],c=o[1],m=function(e){c(Object(U.a)(Object(U.a)({},l),{},Object(D.a)({},e.target.name,e.target.value.trim())))},u=G();return r.a.createElement(h.a,{component:"main",maxWidth:"xs"},r.a.createElement(P.a,null),r.a.createElement("div",{className:u.paper},r.a.createElement(H.a,{className:u.avatar}),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:u.form,noValidate:!0},r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:m})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:m})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:m})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Y.a,{control:r.a.createElement($.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:u.submit,onClick:function(t){t.preventDefault(),console.log(l),S.post("user/create/",{email:l.email,user_name:l.username,password:l.password}).then((function(t){e.push("/login"),console.log(t),console.log(t.data)}))}},"Sign Up"),r.a.createElement(g.a,{container:!0,justify:"flex-end"},r.a.createElement(g.a,{item:!0},r.a.createElement(E.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))))}}),r.a.createElement(i.a,{path:"/login",component:function(){var e=Object(i.f)(),t=Object.freeze({email:"",password:""}),a=Object(n.useState)(t),o=Object(s.a)(a,2),l=o[0],c=o[1],m=function(e){c(Object(U.a)(Object(U.a)({},l),{},Object(D.a)({},e.target.name,e.target.value.trim())))},u=K();return r.a.createElement(h.a,{component:"main",maxWidth:"xs"},r.a.createElement(P.a,null),r.a.createElement("div",{className:u.paper},r.a.createElement(H.a,{className:u.avatar}),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:u.form,noValidate:!0},r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:m}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:m}),r.a.createElement(Y.a,{control:r.a.createElement($.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:u.submit,onClick:function(t){t.preventDefault(),console.log(l),S.post("token/",{email:l.email,password:l.password}).then((function(t){localStorage.setItem("access_token",t.data.access),localStorage.setItem("refresh_token",t.data.refresh),S.defaults.headers.Authorization="JWT "+localStorage.getItem("access_token"),e.push("/")}))}},"Sign In"),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(E.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(g.a,{item:!0},r.a.createElement(E.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))))}}),r.a.createElement(i.a,{path:"/logout",component:function(){var e=Object(i.f)();return Object(n.useEffect)((function(){S.post("user/logout/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),S.defaults.headers.Authorization=null,e.push("/login")})),r.a.createElement("div",null,"Logout")}}),r.a.createElement(i.a,{path:"/post/:slug",component:function(){var e=Object(i.g)().slug,t=Q(),a=Object(n.useState)({posts:[]}),o=Object(s.a)(a,2),l=o[0],c=o[1];return Object(n.useEffect)((function(){S.get("post/"+e+"/").then((function(e){c({posts:e.data}),console.log("===================================="),console.log(e)}))}),[c]),r.a.createElement(h.a,{component:"main",maxWidth:"md"},r.a.createElement(P.a,null),r.a.createElement("div",{className:t.paper}," ")," ",r.a.createElement("div",{className:t.heroContent},r.a.createElement(h.a,{maxWidth:"sm"},r.a.createElement(f.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},l.posts.title," ")," ",r.a.createElement(f.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},l.posts.excerpt," ")," ")," ")," ")}}),r.a.createElement(i.a,{path:"/search",component:Z})),r.a.createElement(M,null)));l.a.render(he,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.27d4ec1d.chunk.js.map